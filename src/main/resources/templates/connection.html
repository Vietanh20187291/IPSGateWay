<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <!-- StyleSheet -->

    <!-- Bootstrap -->
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet" />
    <!-- IPS Gateway StyleSheet -->
    <link th:href="@{../css/Style.css}" rel="stylesheet" />

    <script type="text/javascript" th:src="@{/js/connection.js}"></script>
    <script type="text/javascript" th:src="@{/js/bootstrap.min.js}"></script>
    <title>Connection Configuration</title>
</head>
<body>
<!-- Header -->
<div th:replace="~{fragments/header}">

</div>
<!-- End Header -->

<!-- Body -->
<div class="container pt-3">
    <h4>Protocol Configuration</h4>
    <form th:action="@{/communication}" th:object="${connection}" th:method="put">
        <div class="form-row" id="vtsInput" style ="display: none;">
            <div class="form-group col-md-4 alert alert-success" role="alert" th:inline="text">
                IP Address : [[${connection.vtsIp}]]
            </div>
            <div class="form-group col-md-2">
                <label for="inputPort4">Port</label>
                <input type="text" th:field="*{vtsPort}" class="form-control" id="inputVtsPort4" placeholder="1234">
            </div>
        </div>

        <div class="form-row" id="hostInput">
            <div class="form-group col-md-4">
                <label for="inputVtsIp4">Host IP Address</label>
                <input type="text" th:field="*{hostIp}" class="form-control" id="inputHostIp4" placeholder="127.0.0.1">
            </div>
            <div class="form-group col-md-2">
                <label for="inputPort4">Port</label>
                <input type="text" th:field="*{hostPort}" class="form-control" id="inputHostPort4" placeholder="1234">
            </div>
        </div>

        <fieldset class="form-group">
            <div class="row">
                <legend class="col-form-label col-sm-2 pt-0">Role</legend>
                <div class="col-sm-10">
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" th:field="*{role}" name="inlineRadioOptions" id="inlineRadio1" th:value="false" th:onclick="removeVts()">
                        <label class="form-check-label" for="inlineRadio1">Client</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" th:field="*{role}" name="inlineRadioOptions" id="inlineRadio2" th:value="true" th:onclick="removeHost()">
                        <label class="form-check-label" for="inlineRadio2">Server</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <button type="button" class="btn" th:classappend="${connection.status} ? 'btn-success' : 'btn-danger'" th:inline="text">Number of Client : [[${connection.clientNumber}]]</button>
                    </div>
                </div>
            </div>
        </fieldset>

        <tr>
            <button type="submit" th:unless="${connection.status}" class="btn btn-primary" th:text="${!(connection.status)} ? 'Connect'"></button>
        </tr>
    </form>
    <form th:action="@{/communication/close}" th:object="${connection}" th:method="put">
        <button type="submit"  th:if="${connection.status}" class="btn btn-primary" th:text="${connection.status} ? 'Disconnect' "></button>
    </form>
    <form th:action="@{/communication/editIpFail}" th:object="${connection}" th:method="put">
        <button type="submit" th:if="${connection.status}" class="btn btn-danger">Edit HostIP Fail</button>
    </form>
    <form th:action="@{/communication/editIpSuccess}" th:object="${connection}" th:method="put">
        <button type="submit" th:if="${connection.status}" class="btn btn-success">Edit HostIP Success</button>
    </form>
    <form th:action="@{/communication/clientDemo1}" th:object="${connection}" th:method="post">
        <button type="submit" th:if="${connection.status}" class="btn btn-success">Client Demo 1</button>
    </form>
    <form th:action="@{/communication/clientDemo2}" th:object="${connection}" th:method="post">
        <button type="submit" th:if="${connection.status}" class="btn btn-success">Client Demo 2</button>
    </form>
    <form th:action="@{/communication/closeClientDemo}" th:object="${connection}" th:method="post">
        <button type="submit" th:if="${connection.status}" class="btn btn-danger">Close Client Demo</button>
    </form>
    <div>
            <h5>Logging</h5>
        <tr>
            <p th:text="'Host IP: ' + ${connection.hostIp}" />
            <p th:text="'Port: ' + ${connection.hostPort}" />
        </tr>
        <tr>
            <p th:text="'VTS IP: ' + ${connection.vtsIp}" />
            <p th:text="'Port: ' + ${connection.vtsPort}" />
        </tr>
        <tr>
            <p th:text="'Status: ' + ${connection.status}" />
            <p th:text="'Role: ' + ${connection.role}" />
        </tr>
    </div>
</div>
<!-- End Body -->

</body>
</html>